package tema4_v7.modules.course.utils;

import javax.swing.JOptionPane;

import tema4_v7.classes.Fecha;

public class func_updates {
	public static Fecha fecha_i(String titulo, Fecha fecha1, Fecha fecha2, int precioHora,  int horasDias) {
			Fecha fecha = null;
		    boolean valido = false;
		    int comprobarFecha1 = 0;
		    int comprobarFecha2 = 0;
		    
		    do {
		        String fecha_s = validar_regex.validar_reg_fecha(titulo);
		        fecha = new Fecha(fecha_s);

		        if (!fecha.comprobarFechas()) {
		            JOptionPane.showMessageDialog(null, "Fecha Inv√°lida");
		        } else {
		            comprobarFecha1 = fecha1.compararFechas(fecha); 
		           comprobarFecha2 = fecha2.compararFechas(fecha);  

		            if (comprobarFecha1 == -1 && comprobarFecha2 == 1) {
		                valido = true;  
		            } else {
		                if (comprobarFecha1 != -1) {
		                    JOptionPane.showMessageDialog(null, "La fecha debe ser posterior a " + fecha1.toString());
		                }
		                if (comprobarFecha2 != 1) {
		                    JOptionPane.showMessageDialog(null, "La fecha debe ser anterior a " + fecha2.toString());
		                }
		            }
		        }
		    } while (!valido);
		    
		    func_precio.calcular_precio(fecha, fecha2, precioHora, horasDias);

		    return fecha;
	}
}
